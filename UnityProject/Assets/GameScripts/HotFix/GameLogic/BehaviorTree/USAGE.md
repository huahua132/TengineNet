# è¡Œä¸ºæ ‘ç¼–è¾‘å™¨ä½¿ç”¨æŒ‡å—

## ğŸ”§ å·²å®ç°çš„åŠŸèƒ½æ¸…å•

### 1. åˆ é™¤èŠ‚ç‚¹ï¼ˆ3ç§æ–¹å¼ï¼‰

#### æ–¹å¼ä¸€ï¼šDeleteé”®åˆ é™¤
- é€‰ä¸­èŠ‚ç‚¹
- æŒ‰é”®ç›˜`Delete`é”®
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬656è¡Œ

#### æ–¹å¼äºŒï¼šå³é”®èœå•åˆ é™¤  
- å³é”®ç‚¹å‡»èŠ‚ç‚¹
- é€‰æ‹©"åˆ é™¤"é€‰é¡¹
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬765è¡Œ

#### æ–¹å¼ä¸‰ï¼šå±æ€§é¢æ¿åˆ é™¤
- é€‰ä¸­èŠ‚ç‚¹
- åœ¨å³ä¾§å±æ€§é¢æ¿ç‚¹å‡»"åˆ é™¤èŠ‚ç‚¹"æŒ‰é’®
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬574è¡Œ

### 2. è¿æ¥èŠ‚ç‚¹ï¼ˆ2ç§æ–¹å¼ï¼‰

#### æ–¹å¼ä¸€ï¼šå³é”®èœå•è¿æ¥
1. å³é”®ç‚¹å‡»çˆ¶èŠ‚ç‚¹
2. é€‰æ‹©"è¿æ¥åˆ°..."
3. å³é”®ç‚¹å‡»å­èŠ‚ç‚¹  
4. é€‰æ‹©"è¿æ¥åˆ°è¿™é‡Œ"
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬733-745è¡Œ

#### æ–¹å¼äºŒï¼šæ‹–æ‹½è¿æ¥ï¼ˆæœªå®ç°ï¼‰
- æš‚æœªå®ç°æ‹–æ‹½è¿æ¥åŠŸèƒ½

### 3. æ–­å¼€è¿æ¥ï¼ˆ2ç§æ–¹å¼ï¼‰

#### æ–¹å¼ä¸€ï¼šç‚¹å‡»è¿æ¥çº¿ä¸Šçš„åˆ é™¤æŒ‰é’®
- æ¯æ¡è¿æ¥çº¿çš„ä¸­ç‚¹æœ‰ä¸€ä¸ª"Ã—"æŒ‰é’®
- ç‚¹å‡»å³å¯åˆ é™¤è¯¥è¿æ¥
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬457-473è¡Œ

#### æ–¹å¼äºŒï¼šå³é”®èœå•æ–­å¼€æ‰€æœ‰å­èŠ‚ç‚¹
- å³é”®ç‚¹å‡»çˆ¶èŠ‚ç‚¹
- é€‰æ‹©"æ–­å¼€æ‰€æœ‰å­èŠ‚ç‚¹"ï¼ˆä»…å½“èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹æ—¶æ˜¾ç¤ºï¼‰
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬755-763è¡Œ

### 4. èŠ‚ç‚¹å‚æ•°ç¼–è¾‘

#### ç¼–è¾‘å‚æ•°
1. é€‰ä¸­èŠ‚ç‚¹
2. åœ¨å³ä¾§å±æ€§é¢æ¿æ‰¾åˆ°"å‚æ•°é…ç½®"åŒºåŸŸ
3. ç¼–è¾‘å‚æ•°å€¼
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹èŠ‚ç‚¹çš„å…¬å…±å­—æ®µ
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬583-625è¡Œ

#### æ·»åŠ å¤‡æ³¨
1. é€‰ä¸­èŠ‚ç‚¹
2. åœ¨å³ä¾§å±æ€§é¢æ¿æ‰¾åˆ°"å¤‡æ³¨"åŒºåŸŸ
3. è¾“å…¥å¤šè¡Œæ–‡æœ¬å¤‡æ³¨
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬551-553è¡Œ

### 5. å…¶ä»–åŠŸèƒ½

#### ç¼©æ”¾ç”»å¸ƒ
- é¼ æ ‡æ»šè½®ç¼©æ”¾
- æ–‡å­—å¤§å°å›ºå®šï¼Œä¸å—ç¼©æ”¾å½±å“
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬353-393è¡Œ

#### ç§»åŠ¨ç”»å¸ƒ
- é¼ æ ‡ä¸­é”®æ‹–åŠ¨
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬673-677è¡Œ

#### è®¾ç½®æ ¹èŠ‚ç‚¹
- å³é”®èœå•ï¼š"è®¾ä¸ºæ ¹èŠ‚ç‚¹"
- å±æ€§é¢æ¿æŒ‰é’®ï¼š"è®¾ä¸ºæ ¹èŠ‚ç‚¹"
- ä»£ç ä½ç½®ï¼š`BehaviorTreeEditorWindow.cs` ç¬¬724-731è¡Œ

## ğŸ› æ•…éšœæ’æŸ¥

### å¦‚æœåŠŸèƒ½ä¸å·¥ä½œï¼š

1. **ç¡®è®¤Unityå·²å®Œæˆç¼–è¯‘**
   - æŸ¥çœ‹Unityç¼–è¾‘å™¨å·¦ä¸‹è§’çš„è¿›åº¦æ¡
   - ç­‰å¾…"Compiling"å®Œæˆ

2. **é‡æ–°æ‰“å¼€ç¼–è¾‘å™¨çª—å£**
   - å…³é—­è¡Œä¸ºæ ‘ç¼–è¾‘å™¨çª—å£
   - èœå•ï¼šTools -> BehaviorTree -> Editor Window
   - é‡æ–°æ‰“å¼€

3. **æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘**
   - å…³é—­Unity
   - åˆ é™¤é¡¹ç›®çš„`Library`æ–‡ä»¶å¤¹
   - é‡æ–°æ‰“å¼€Unity

4. **æ£€æŸ¥ç¼–è¯‘é”™è¯¯**
   - æ‰“å¼€Consoleçª—å£
   - æŸ¥çœ‹æ˜¯å¦æœ‰ç¼–è¯‘é”™è¯¯
   - ä¿®å¤é”™è¯¯åé‡è¯•

### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆè¿æ¥çº¿ä¸Šæ²¡æœ‰åˆ é™¤æŒ‰é’®ï¼Ÿ**
A: æŒ‰é’®å¯èƒ½å¤ªå°äº†ã€‚å°è¯•æ”¾å¤§ç”»å¸ƒæˆ–å°†é¼ æ ‡ç§»åˆ°è¿æ¥çº¿ä¸­ç‚¹ä½ç½®ã€‚

**Q: ä¸ºä»€ä¹ˆDeleteé”®ä¸èµ·ä½œç”¨ï¼Ÿ**
A: ç¡®ä¿ï¼š
1. èŠ‚ç‚¹å·²è¢«é€‰ä¸­ï¼ˆæœ‰é»„è‰²è¾¹æ¡†ï¼‰
2. ç„¦ç‚¹åœ¨ç¼–è¾‘å™¨çª—å£ä¸Šï¼ˆç‚¹å‡»ä¸€ä¸‹çª—å£ï¼‰
3. Unityå·²å®Œæˆç¼–è¯‘

**Q: ä¸ºä»€ä¹ˆå‚æ•°é…ç½®åŒºåŸŸæ˜¯ç©ºçš„ï¼Ÿ**
A: åªæœ‰èŠ‚ç‚¹ç±»ä¸­å®šä¹‰äº†å…¬å…±å­—æ®µæ‰ä¼šæ˜¾ç¤ºå‚æ•°ã€‚ä¾‹å¦‚`LogNode`æœ‰`public string message`å­—æ®µã€‚

## ğŸ“ ä»£ç å®ç°è¯´æ˜

### Deleteé”®åˆ é™¤ (ç¬¬656è¡Œ)
```csharp
if (e.type == EventType.KeyDown && e.keyCode == KeyCode.Delete && _selectedNode != null)
{
    DeleteNode(_selectedNode);
    _selectedNode = null;
    e.Use();
    Repaint();
    return;
}
```

### è¿æ¥çº¿åˆ é™¤æŒ‰é’® (ç¬¬465è¡Œ)
```csharp
Vector2 midPoint = (startPos + endPos) / 2;
Rect deleteButtonRect = new Rect(midPoint.x - 8, midPoint.y - 8, 16, 16);

if (GUI.Button(deleteButtonRect, "Ã—", EditorStyles.miniButton))
{
    DisconnectNodes(from, to);
}
```

### è¿æ¥èŠ‚ç‚¹ (ç¬¬830è¡Œ)
```csharp
private void ConnectNodes(BehaviorNodeData from, BehaviorNodeData to)
{
    if (from == null || to == null || from == to)
        return;

    if (from.childrenIds == null)
    {
        from.childrenIds = new List<int>();
    }

    if (!from.childrenIds.Contains(to.id))
    {
        from.childrenIds.Add(to.id);
        to.parentId = from.id;
        EditorUtility.SetDirty(_currentAsset);
    }

    Repaint();
}
```

### æ–­å¼€è¿æ¥ (ç¬¬850è¡Œ)
```csharp
private void DisconnectNodes(BehaviorNodeData from, BehaviorNodeData to)
{
    if (from == null || to == null)
        return;
    
    if (from.childrenIds != null && from.childrenIds.Contains(to.id))
    {
        from.childrenIds.Remove(to.id);
        to.parentId = -1;
        EditorUtility.SetDirty(_currentAsset);
        Repaint();
    }
}
```

---

**ç‰ˆæœ¬ï¼š** 1.1  
**æ›´æ–°æ—¥æœŸï¼š** 2026-01-10  
**æ³¨æ„ï¼š** æ‰€æœ‰åŠŸèƒ½å·²åœ¨ä»£ç ä¸­å®ç°ï¼Œå¦‚æœ‰é—®é¢˜è¯·æ£€æŸ¥Unityç¼–è¯‘çŠ¶æ€